{% load static %}
<div class="col-12 col-lg-7 col-xl-6">
    <h3 class="text-dark mb-3">{% if tag_name %} #{{ tag_name }}{% else %}{{ page_title }}{% endif %}</h3>
    {% for new in news_list %}
    <div class="mb-4">
        <a href="{% url 'news_detail' new.id %}" class="news-card-link">
            <div class="card border-0 rounded-0 shadow-none" style="background: none !important;">
                <div class="row g-0">
                    <div class="col-12 col-lg-6">
                        <img src="{{ new.image.url }}" class="w-100 object-cover card-img-start rounded-0" alt="{{ new.title }}" />
                    </div>
                    <div class="col-12 col-lg-6">
                        <div class="card-body d-flex flex-column justify-content-between h-100 px-2 px-lg-3 py-0">
                            <h4 class="news-card-title text-dark">{{ new.title }}</h4>
                            <p class="text-uppercase">
                                {{ new.category.name }}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <hr class="mb-1 mt-1 mt-lg-4">
            <p class="px-2 px-lg-0 text-body fs-5">{{ new.created_at|date:"d-m-Y H:i" }}</p>
        </a>
    </div>
    {% empty %}
    <h4 class="text-muted mb-3"><i>Yangiliklar mavjud emas.</i></h4>
    {% endfor %}
    {% if news_list %}
    <div class="d-flex mb-4">
        <ul class="pagination pagination-sm pagination-boxed mb-0 mx-auto">
            <li class="page-item {% if not news_list.has_previous %}disabled{% endif %}">
                <a class="page-link" href="{% if news_list.has_previous %}?{% if tag_name %}tag={{ tag_name|urlencode }}&{% endif %}page={{ news_list.previous_page_number }}{% else %}#{% endif %}" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            {% for page in pagination_range %}
            {% if page == '...' %}
            <li class="page-item disabled"><span class="page-link">...</span></li>
            {% elif page == news_list.number %}
            <li class="page-item active"><a class="page-link" href="?{% if tag_name %}tag={{ tag_name|urlencode }}&{% endif %}page={{ page }}">{{ page }}</a></li>
            {% else %}
            <li class="page-item"><a class="page-link" href="?{% if tag_name %}tag={{ tag_name|urlencode }}&{% endif %}page={{ page }}">{{ page }}</a></li>
            {% endif %}
            {% endfor %}
            <li class="page-item {% if not news_list.has_next %}disabled{% endif %}">
                <a class="page-link" href="{% if news_list.has_next %}?{% if tag_name %}tag={{ tag_name|urlencode }}&{% endif %}page={{ news_list.next_page_number }}{% else %}#{% endif %}" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        </ul>
    </div>
    {% endif %}
</div>