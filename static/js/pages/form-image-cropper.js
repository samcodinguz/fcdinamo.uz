(()=>{let e=document.getElementById("fileInput");var d=document.getElementById("useDemoBtn"),o=document.getElementById("clearInputBtn");let r=document.getElementById("image");var a=document.getElementById("cropBtn");let l=document.getElementById("downloadBtn"),c=document.getElementById("croppedResult"),m=c.getElementsByTagName("img")[0];var s=document.getElementById("zoomInBtn"),i=document.getElementById("zoomOutBtn"),g=document.getElementById("rotateLeftBtn"),u=document.getElementById("rotateRightBtn"),v=document.getElementById("resetBtn"),E=document.getElementById("aspect");if(e&&d&&o&&r&&a&&l&&c&&m&&s&&i&&g&&u&&v&&E){let t=null,n=null;function L(){t&&t.destroy(),t=new Cropper(r,{viewMode:1,dragMode:"move",preview:".cropper-img-preview",autoCropArea:.8,responsive:!0,background:!1})}window.addEventListener("load",()=>{r.complete?L():r.onload=()=>L()}),e.addEventListener("change",e=>{e=e.target.files&&e.target.files[0];e&&(n&&URL.revokeObjectURL(n),n=URL.createObjectURL(e),r.src=n,r.onload=()=>L())}),d.addEventListener("click",()=>{n&&(URL.revokeObjectURL(n),n=null),r.src="assets/images/stock/small-1.jpg",e.value="",r.onload=()=>L()}),o.addEventListener("click",()=>{e.value=""}),a.addEventListener("click",()=>{var e;t&&(e=t.getCroppedCanvas({width:600,height:600}))&&(c.classList.remove("d-none"),e=e.toDataURL("image/png"),m.src=e,l.href=e,l.classList.remove("disabled"))}),s.addEventListener("click",()=>t&&t.zoom(.1)),i.addEventListener("click",()=>t&&t.zoom(-.1)),g.addEventListener("click",()=>t&&t.rotate(-45)),u.addEventListener("click",()=>t&&t.rotate(45)),v.addEventListener("click",()=>t&&t.reset()),E.addEventListener("change",e=>{t&&(e="NaN"===(e=e.target.value)?NaN:Function("return "+e)(),t.setAspectRatio(e))}),window.addEventListener("beforeunload",()=>{n&&URL.revokeObjectURL(n)})}else console.error("Form Image Cropper: Elements not found.")})();